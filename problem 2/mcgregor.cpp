#include <bits/stdc++.h>
#include <fstream>
#include <streambuf>
using namespace std;
#define ll long long
#define F first
#define S second


string ss = "0-1,0-10,0-2,0-3,0-4,0-5,0-6,0-7,0-8,0-9,1-11,1-12,1-2,1-9,10-27,10-28,10-29,10-8,10-9,100-101,100-106,100-107,101-102,101-107,101-108,102-108,102-109,102-56,103-104,103-4,103-5,104-105,104-5,104-6,105-106,105-6,105-7,106-107,106-7,106-8,107-108,107-27,107-8,108-109,108-27,108-28,109-28,109-29,109-39,11-12,11-13,11-14,11-9,12-14,12-30,12-32,13-14,13-15,13-16,13-9,14-16,14-32,14-33,15-16,15-17,15-18,15-9,16-18,16-33,16-34,17-18,17-19,17-20,17-9,18-20,18-34,18-35,19-20,19-21,19-22,19-9,2-12,2-3,2-30,2-31,20-22,20-35,20-36,21-22,21-23,21-24,21-9,22-24,22-36,22-37,23-24,23-25,23-26,23-9,24-26,24-37,24-38,25-26,25-9,26-38,26-39,26-9,27-28,28-29,29-9,3-4,30-31,30-32,30-48,30-49,31-103,31-3,31-4,32-33,32-48,32-50,33-34,33-50,33-51,34-35,34-51,34-52,35-36,35-52,35-53,36-37,36-53,36-54,37-38,37-54,37-55,38-39,38-55,38-56,39-29,39-9,4-5,40-41,40-42,40-43,40-44,40-45,41-43,41-45,41-46,41-47,42-43,42-44,42-57,42-58,42-59,43-46,43-59,43-60,44-45,44-47,46-47,46-60,46-61,46-62,47-45,48-49,48-50,48-63,48-64,49-103,49-31,49-97,5-6,50-51,50-63,50-65,51-52,51-65,51-66,52-53,52-66,52-67,53-54,53-67,53-68,54-55,54-68,54-69,55-56,55-69,55-70,56-109,56-39,57-44,57-96,58-57,58-59,58-71,58-72,58-73,59-60,59-73,59-74,6-7,60-62,60-74,60-75,61-47,62-61,62-75,62-76,62-77,63-64,63-65,63-78,63-79,64-49,64-91,64-97,65-66,65-78,65-80,66-67,66-80,66-81,67-68,67-81,67-82,68-69,68-82,68-83,69-70,69-83,69-84,7-8,70-102,70-56,71-57,71-89,72-71,72-73,72-78,72-79,72-85,73-74,73-85,73-86,74-75,74-86,74-87,75-76,75-87,75-88,76-77,76-83,76-84,76-88,77-61,78-71,78-79,78-80,79-64,79-85,79-91,8-27,80-71,80-81,80-89,81-82,81-89,81-90,82-77,82-83,82-90,83-77,83-84,84-70,84-95,85-86,85-91,85-92,86-87,86-92,86-93,87-88,87-93,87-94,88-84,88-94,88-95,89-57,89-90,89-96,90-61,90-77,90-96,91-92,91-97,91-98,92-93,92-98,92-99,93-100,93-94,93-99,94-100,94-101,94-95,95-101,95-102,95-70,96-44,96-47,96-61,97-103,97-104,97-98,98-104,98-105,98-99,99-100,99-105,99-106";

ll s(ll j, ll k)
{
    return 440 + (j - 1) * 6 + k;
}

int main()
{
    freopen("mc_gregor.cnf", "w", stdout);

    vector<pair<ll, ll>> edges;
    ll ii = 0;
    while (ii < ss.size())
    {
        string s1 = "", s2 = "";
        while (ss[ii] != '-')
        {
            s1 += ss[ii];
            ii++;
        }
        ii++;
        while (ss[ii] != ',')
        {
            s2 += ss[ii];
            ii++;
        }
        ii++;
        edges.push_back({stoi(s1), stoi(s2)});
    }

    cout << "p cnf " << 1161 << " " << 2944 << endl;

    // Equation 15
    for (ll i = 0; i < 110; i++)
    {
        cout << 1 + i * 4 << " " << 2 + i * 4 << " " << 3 + i * 4 << " " << 4 + i * 4 << " " << 0 << endl;
    }

    // Equation 16
    for (auto x : edges)
    {
        cout << "-" << x.F * 4 + 1 << " -" << x.S * 4 + 1 << " 0" << endl;
        cout << "-" << x.F * 4 + 2 << " -" << x.S * 4 + 2 << " 0" << endl;
        cout << "-" << x.F * 4 + 3 << " -" << x.S * 4 + 3 << " 0" << endl;
        cout << "-" << x.F * 4 + 4 << " -" << x.S * 4 + 4 << " 0" << endl;
    }

    // Equation 18
    for (ll j = 1; j < 104; j++)
    {
        for (ll k = 1; k < 7; k++)
        {
            cout << -s(j, k) << " " << s(j + 1, k) << " " << 0 << endl;
        }
    }

    // Equation 19
    for (ll j = 1; j <= 104; j++)
    {
        for (ll k = 0; k < 7; k++)
        {
            cout << -(1 + (j + k - 1) * 4) << " ";
            if (k > 0)
            {
                cout << -s(j, k) << " ";
            }
            if (k < 6)
            {
                cout << s(j, k + 1) << " ";
            }
            cout << 0 << endl;
        }
    }

    return 0;
}